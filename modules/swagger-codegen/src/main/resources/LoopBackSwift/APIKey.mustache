import Foundation

public class APIKey: AuthenticationMethod {
    public enum Type {
        case Header
        case Query
    }

    public let name:String
    public let type:Type
    public var value:String?

    public init(name:String, type:Type) {
        self.name = name
        self.type = type
    }

    public func authenticate(request:NSMutableURLRequest) {
        guard let value = value else { return }

        switch type {
        case .Header:
            request.addValue(value, forHTTPHeaderField: name)

        case .Query:
            request.setValue(value, forKey: name)
        }
    }
}